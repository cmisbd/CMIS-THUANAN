<h2>QUẢN LÝ NHÓM QUYỀN</h2>

<!-- FORM THÊM / SỬA -->
<div style="max-width: 400px; margin-bottom: 24px;">
  <div>
    <mat-form-field appearance="outline" style="width: 100%;">
      <mat-label>Tên nhóm quyền</mat-label>
      <input matInput [(ngModel)]="currentRole.rolename">
    </mat-form-field>
  </div>

  <div>
    <mat-form-field appearance="outline" style="width: 100%;">
      <mat-label>Mô tả</mat-label>
      <input matInput [(ngModel)]="currentRole.description">
    </mat-form-field>
  </div>

  <div>
    <mat-form-field appearance="outline" style="width: 100%;">
      <mat-label>Trạng thái</mat-label>
      <input matInput [(ngModel)]="currentRole.state">
    </mat-form-field>
  </div>

  <button mat-raised-button color="primary" (click)="save()">
    Lưu
  </button>
  <button mat-button style="margin-left: 8px;" (click)="newRole()">
    Thêm mới
  </button>
</div>

<!-- DANH SÁCH NHÓM QUYỀN -->
<div *ngIf="roles && roles.length">

  <table class="mat-elevation-z1" style="width: 100%; border-collapse: collapse;">
    <thead>
      <tr>
        <th style="padding: 8px; text-align: left;">#</th>
        <th style="padding: 8px; text-align: left;">Tên nhóm quyền</th>
        <th style="padding: 8px; text-align: left;">Mô tả</th>
        <th style="padding: 8px; text-align: center;">Trạng thái</th>
        <th style="padding: 8px; text-align: center;">Thao tác</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let r of roles; let i = index">
        <td style="padding: 8px;">{{ i + 1 }}</td>
        <td style="padding: 8px;">{{ r.rolename }}</td>
        <td style="padding: 8px;">{{ r.description }}</td>
        <td style="padding: 8px; text-align: center;">{{ r.state }}</td>
        <td style="padding: 8px; text-align: center;">
          <button mat-button color="primary" (click)="edit(r)">Sửa</button>
          <button mat-button color="warn" (click)="delete(r)">Xóa</button>
        </td>
      </tr>
    </tbody>
  </table>

</div>

<div *ngIf="roles && roles.length === 0" style="margin-top: 16px;">
  Chưa có nhóm quyền nào.
</div>
